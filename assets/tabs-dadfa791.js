import{N as xe,br as Ee,ax as Se,A as H,B as se,C as be,d as F,ae as le,bi as ne,K as W,r as N,P as z,y as oe,ba as fe,f as L,c as U,n as ve,u as O,Q as ke,a4 as me,al as Q,bs as Be,bt as Oe,O as I,o as pe,bu as Re,b as t,q,U as ze,V as Ae,T as Ve,z as j,bg as Fe,am as De,aF as Me,a1 as _e,aB as ie,ac as Le,D as Ue,bd as Ie,bv as ce,a as he,bw as Ke,$ as qe,a0 as je,S as ae,a7 as He,a$ as We,w as h,g as D,t as ee,h as M,F as de,j as Qe}from"./index-86793bc5.js";import{E as Xe,a as Ye}from"./el-table-column-4f21e7c9.js";import"./el-tag-3da79101.js";import{c as R}from"./strings-c951359f.js";import{U as ye}from"./event-ed688fce.js";import"./_commonjsHelpers-042e6b4d.js";const Ge=(e,o,l)=>Ee(e.subTree).filter(s=>{var n;return Se(s)&&((n=s.type)==null?void 0:n.name)===o&&!!s.component}).map(s=>s.component.uid).map(s=>l[s]).filter(s=>!!s),Je=(e,o)=>{const l={},w=xe([]);return{children:w,addChild:n=>{l[n.uid]=n,w.value=Ge(e,o,l)},removeChild:n=>{delete l[n],w.value=w.value.filter(_=>_.uid!==n)}}},X=Symbol("tabsRootContextKey"),Ze=H({tabs:{type:se(Array),default:()=>be([])}}),ge="ElTabBar",et=F({name:ge}),tt=F({...et,props:Ze,setup(e,{expose:o}){const l=e,w=Q(),u=le(X);u||ne(ge,"<el-tabs><el-tab-bar /></el-tabs>");const s=W("tabs"),n=N(),_=N(),r=()=>{let m=0,p=0;const f=["top","bottom"].includes(u.props.tabPosition)?"width":"height",a=f==="width"?"x":"y",S=a==="x"?"left":"top";return l.tabs.every(k=>{var E,i;const g=(i=(E=w.parent)==null?void 0:E.refs)==null?void 0:i[`tab-${k.uid}`];if(!g)return!1;if(!k.active)return!0;m=g[`offset${R(S)}`],p=g[`client${R(f)}`];const T=window.getComputedStyle(g);return f==="width"&&(l.tabs.length>1&&(p-=Number.parseFloat(T.paddingLeft)+Number.parseFloat(T.paddingRight)),m+=Number.parseFloat(T.paddingLeft)),!1}),{[f]:`${p}px`,transform:`translate${R(a)}(${m}px)`}},b=()=>_.value=r();return z(()=>l.tabs,async()=>{await oe(),b()},{immediate:!0}),fe(n,()=>b()),o({ref:n,update:b}),(m,p)=>(L(),U("div",{ref_key:"barRef",ref:n,class:ve([O(s).e("active-bar"),O(s).is(O(u).props.tabPosition)]),style:ke(_.value)},null,6))}});var at=me(tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const st=H({panes:{type:se(Array),default:()=>be([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),lt={tabClick:(e,o,l)=>l instanceof Event,tabRemove:(e,o)=>o instanceof Event},ue="ElTabNav",nt=F({name:ue,props:st,emits:lt,setup(e,{expose:o,emit:l}){const w=Q(),u=le(X);u||ne(ue,"<el-tabs><tab-nav /></el-tabs>");const s=W("tabs"),n=Be(),_=Oe(),r=N(),b=N(),m=N(),p=N(),f=N(!1),a=N(0),S=N(!1),k=N(!0),E=I(()=>["top","bottom"].includes(u.props.tabPosition)?"width":"height"),i=I(()=>({transform:`translate${E.value==="width"?"X":"Y"}(-${a.value}px)`})),g=()=>{if(!r.value)return;const d=r.value[`offset${R(E.value)}`],v=a.value;if(!v)return;const c=v>d?v-d:0;a.value=c},T=()=>{if(!r.value||!b.value)return;const d=b.value[`offset${R(E.value)}`],v=r.value[`offset${R(E.value)}`],c=a.value;if(d-c<=v)return;const $=d-c>v*2?c+v:d-v;a.value=$},A=async()=>{const d=b.value;if(!f.value||!m.value||!r.value||!d)return;await oe();const v=m.value.querySelector(".is-active");if(!v)return;const c=r.value,$=["top","bottom"].includes(u.props.tabPosition),P=v.getBoundingClientRect(),C=c.getBoundingClientRect(),B=$?d.offsetWidth-C.width:d.offsetHeight-C.height,x=a.value;let y=x;$?(P.left<C.left&&(y=x-(C.left-P.left)),P.right>C.right&&(y=x+P.right-C.right)):(P.top<C.top&&(y=x-(C.top-P.top)),P.bottom>C.bottom&&(y=x+(P.bottom-C.bottom))),y=Math.max(y,0),a.value=Math.min(y,B)},K=()=>{var d;if(!b.value||!r.value)return;e.stretch&&((d=p.value)==null||d.update());const v=b.value[`offset${R(E.value)}`],c=r.value[`offset${R(E.value)}`],$=a.value;c<v?(f.value=f.value||{},f.value.prev=$,f.value.next=$+c<v,v-$<c&&(a.value=v-c)):(f.value=!1,$>0&&(a.value=0))},Ne=d=>{const v=d.code,{up:c,down:$,left:P,right:C}=j;if(![c,$,P,C].includes(v))return;const B=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),x=B.indexOf(d.target);let y;v===P||v===c?x===0?y=B.length-1:y=x-1:x<B.length-1?y=x+1:y=0,B[y].focus({preventScroll:!0}),B[y].click(),re()},re=()=>{k.value&&(S.value=!0)},Y=()=>S.value=!1;return z(n,d=>{d==="hidden"?k.value=!1:d==="visible"&&setTimeout(()=>k.value=!0,50)}),z(_,d=>{d?setTimeout(()=>k.value=!0,50):k.value=!1}),fe(m,K),pe(()=>setTimeout(()=>A(),0)),Re(()=>K()),o({scrollToActiveTab:A,removeFocus:Y}),z(()=>e.panes,()=>w.update(),{flush:"post",deep:!0}),()=>{const d=f.value?[t("span",{class:[s.e("nav-prev"),s.is("disabled",!f.value.prev)],onClick:g},[t(q,null,{default:()=>[t(ze,null,null)]})]),t("span",{class:[s.e("nav-next"),s.is("disabled",!f.value.next)],onClick:T},[t(q,null,{default:()=>[t(Ae,null,null)]})])]:null,v=e.panes.map((c,$)=>{var P,C,B,x;const y=c.uid,G=c.props.disabled,J=(C=(P=c.props.name)!=null?P:c.index)!=null?C:`${$}`,Z=!G&&(c.isClosable||e.editable);c.index=`${$}`;const Te=Z?t(q,{class:"is-icon-close",onClick:V=>l("tabRemove",c,V)},{default:()=>[t(Ve,null,null)]}):null,$e=((x=(B=c.slots).label)==null?void 0:x.call(B))||c.props.label,Pe=!G&&c.active?0:-1;return t("div",{ref:`tab-${y}`,class:[s.e("item"),s.is(u.props.tabPosition),s.is("active",c.active),s.is("disabled",G),s.is("closable",Z),s.is("focus",S.value)],id:`tab-${J}`,key:`tab-${y}`,"aria-controls":`pane-${J}`,role:"tab","aria-selected":c.active,tabindex:Pe,onFocus:()=>re(),onBlur:()=>Y(),onClick:V=>{Y(),l("tabClick",c,J,V)},onKeydown:V=>{Z&&(V.code===j.delete||V.code===j.backspace)&&l("tabRemove",c,V)}},[$e,Te])});return t("div",{ref:m,class:[s.e("nav-wrap"),s.is("scrollable",!!f.value),s.is(u.props.tabPosition)]},[d,t("div",{class:s.e("nav-scroll"),ref:r},[t("div",{class:[s.e("nav"),s.is(u.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(u.props.tabPosition))],ref:b,style:i.value,role:"tablist",onKeydown:Ne},[e.type?null:t(at,{ref:p,tabs:[...e.panes]},null),v])])])}}}),ot=H({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:se(Function),default:()=>!0},stretch:Boolean}),te=e=>Le(e)||Ue(e),rt={[ye]:e=>te(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>te(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>te(e),tabAdd:()=>!0};var it=F({name:"ElTabs",props:ot,emits:rt,setup(e,{emit:o,slots:l,expose:w}){var u,s;const n=W("tabs"),{children:_,addChild:r,removeChild:b}=Je(Q(),"ElTabPane"),m=N(),p=N((s=(u=e.modelValue)!=null?u:e.activeName)!=null?s:"0"),f=i=>{p.value=i,o(ye,i),o("tabChange",i)},a=async i=>{var g,T,A;if(!(p.value===i||ie(i)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,i,p.value))!==!1&&(f(i),(A=(T=m.value)==null?void 0:T.removeFocus)==null||A.call(T))}catch{}},S=(i,g,T)=>{i.props.disabled||(a(g),o("tabClick",i,T))},k=(i,g)=>{i.props.disabled||ie(i.props.name)||(g.stopPropagation(),o("edit",i.props.name,"remove"),o("tabRemove",i.props.name))},E=()=>{o("edit",void 0,"add"),o("tabAdd")};return Fe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},I(()=>!!e.activeName)),z(()=>e.activeName,i=>a(i)),z(()=>e.modelValue,i=>a(i)),z(p,async()=>{var i;await oe(),(i=m.value)==null||i.scrollToActiveTab()}),De(X,{props:e,currentName:p,registerPane:r,unregisterPane:b}),w({currentName:p}),()=>{const i=e.editable||e.addable?t("span",{class:n.e("new-tab"),tabindex:"0",onClick:E,onKeydown:A=>{A.code===j.enter&&E()}},[t(q,{class:n.is("icon-plus")},{default:()=>[t(Me,null,null)]})]):null,g=t("div",{class:[n.e("header"),n.is(e.tabPosition)]},[i,t(nt,{ref:m,currentName:p.value,editable:e.editable,type:e.type,panes:_.value,stretch:e.stretch,onTabClick:S,onTabRemove:k},null)]),T=t("div",{class:n.e("content")},[_e(l,"default")]);return t("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:e.type==="card",[n.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,T]:[T,g]])}}});const ct=H({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),dt=["id","aria-hidden","aria-labelledby"],we="ElTabPane",ut=F({name:we}),bt=F({...ut,props:ct,setup(e){const o=e,l=Q(),w=Ie(),u=le(X);u||ne(we,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=W("tab-pane"),n=N(),_=I(()=>o.closable||u.props.closable),r=ce(()=>{var a;return u.currentName.value===((a=o.name)!=null?a:n.value)}),b=N(r.value),m=I(()=>{var a;return(a=o.name)!=null?a:n.value}),p=ce(()=>!o.lazy||b.value||r.value);z(r,a=>{a&&(b.value=!0)});const f=he({uid:l.uid,slots:w,props:o,paneName:m,active:r,index:n,isClosable:_});return pe(()=>{u.registerPane(f)}),Ke(()=>{u.unregisterPane(f.uid)}),(a,S)=>O(p)?qe((L(),U("div",{key:0,id:`pane-${O(m)}`,class:ve(O(s).b()),role:"tabpanel","aria-hidden":!O(r),"aria-labelledby":`tab-${O(m)}`},[_e(a.$slots,"default")],10,dt)),[[je,O(r)]]):ae("v-if",!0)}});var Ce=me(bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ft=He(it,{TabPane:Ce}),vt=We(Ce);const mt={class:"container"},pt={class:"message-title"},_t={class:"handle-row"},ht={class:"message-title"},yt={class:"handle-row"},gt={class:"message-title"},wt={class:"handle-row"},Et=F({__name:"tabs",setup(e){const o=N("first"),l=he({unread:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"},{date:"2018-04-19 21:00:00",title:"今晚12点整发大红包，先到先得"}],read:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}],recycle:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}]}),w=n=>{const _=l.unread.splice(n,1);l.read=_.concat(l.read)},u=n=>{const _=l.read.splice(n,1);l.recycle=_.concat(l.recycle)},s=n=>{const _=l.recycle.splice(n,1);l.read=_.concat(l.read)};return(n,_)=>{const r=Xe,b=Qe,m=Ye,p=vt,f=ft;return L(),U("div",mt,[t(f,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=a=>o.value=a)},{default:h(()=>[t(p,{label:`未读消息(${l.unread.length})`,name:"first"},{default:h(()=>[t(m,{data:l.unread,"show-header":!1,style:{width:"100%"}},{default:h(()=>[t(r,null,{default:h(a=>[D("span",pt,ee(a.row.title),1)]),_:1}),t(r,{prop:"date",width:"180"}),t(r,{width:"120"},{default:h(a=>[t(b,{size:"small",onClick:S=>w(a.$index)},{default:h(()=>[M("标为已读")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),D("div",_t,[t(b,{type:"primary"},{default:h(()=>[M("全部标为已读")]),_:1})])]),_:1},8,["label"]),t(p,{label:`已读消息(${l.read.length})`,name:"second"},{default:h(()=>[o.value==="second"?(L(),U(de,{key:0},[t(m,{data:l.read,"show-header":!1,style:{width:"100%"}},{default:h(()=>[t(r,null,{default:h(a=>[D("span",ht,ee(a.row.title),1)]),_:1}),t(r,{prop:"date",width:"150"}),t(r,{width:"120"},{default:h(a=>[t(b,{type:"danger",onClick:S=>u(a.$index)},{default:h(()=>[M("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),D("div",yt,[t(b,{type:"danger"},{default:h(()=>[M("删除全部")]),_:1})])],64)):ae("",!0)]),_:1},8,["label"]),t(p,{label:`回收站(${l.recycle.length})`,name:"third"},{default:h(()=>[o.value==="third"?(L(),U(de,{key:0},[t(m,{data:l.recycle,"show-header":!1,style:{width:"100%"}},{default:h(()=>[t(r,null,{default:h(a=>[D("span",gt,ee(a.row.title),1)]),_:1}),t(r,{prop:"date",width:"150"}),t(r,{width:"120"},{default:h(a=>[t(b,{onClick:S=>s(a.$index)},{default:h(()=>[M("还原")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),D("div",wt,[t(b,{type:"danger"},{default:h(()=>[M("清空回收站")]),_:1})])],64)):ae("",!0)]),_:1},8,["label"])]),_:1},8,["modelValue"])])}}});export{Et as default};
